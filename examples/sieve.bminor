/* ========================================================================== *
 *                                                                            *
 * sieve.bminor                                                               *
 *                                                                            *
 * Implementation of Eratostenes algorithm to find the primes numbers until a *
 * given number N.                                                            *
 *                                                                            *
 * ========================================================================== *
 */

N: integer = 100;
isprime: array [N] boolean;

main: function void () = {
    i: integer;
    j: integer;

    for (i=0; i <= N; i++) {
        isprime[i] = true;
    }

    isprime[0] = false;
    isprime[1] = false;

    for (i=0; i*i < N; i++) {
        if (isprime[i]) {
            for (j = i*i; j < N; j++) {
                isprime[j] = false;
            }
        }
    }

    for (i = 0; i < N; i++) {
        if (isprime[i]) {
            print i;
        }
    }
};